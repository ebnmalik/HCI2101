<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ù„Ø¹Ø¨Ø© XO</title>
<style>
    body {
        margin: 0;
        font-family: "Tajawal", Arial, sans-serif;
        background: linear-gradient(135deg, #1e3c72, #2a5298);
        color: #fff;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        align-items: center;
        justify-content: center;
    }

    h1 {
        margin-bottom: 10px;
    }

    .game-container {
        background: rgba(255,255,255,0.1);
        padding: 25px;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        text-align: center;
        width: 300px;
    }

    select, button {
        width: 100%;
        padding: 10px;
        margin: 8px 0;
        border-radius: 8px;
        border: none;
        font-size: 16px;
        cursor: pointer;
    }

    button {
        background: #ff9800;
        color: #000;
        font-weight: bold;
    }

    .board {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 8px;
        margin-top: 15px;
    }

    .cell {
        width: 80px;
        height: 80px;
        background: #fff;
        color: #333;
        font-size: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        border-radius: 10px;
        font-weight: bold;
        transition: 0.2s;
    }

    .cell:hover {
        background: #f1f1f1;
    }

    .status {
        margin-top: 10px;
        font-size: 18px;
    }

    footer {
        margin-top: auto;
        width: 100%;
        text-align: center;
        padding: 12px;
        background: rgba(0,0,0,0.4);
        font-size: 14px;
    }
</style>
</head>
<body>

<h1>ğŸ® Ù„Ø¹Ø¨Ø© XO</h1>

<div class="game-container">
    <label>Ø§Ø®ØªØ± ÙˆØ¶Ø¹ Ø§Ù„Ù„Ø¹Ø¨:</label>
    <select id="mode">
        <option value="two">Ù„Ø§Ø¹Ø¨Ø§Ù†</option>
        <option value="single">Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯ (Ø¶Ø¯ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±)</option>
    </select>

    <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>

    <div class="board" id="board"></div>

    <div class="status" id="status"></div>
</div>

<footer>
    Student Name: [yahya fahad yahya almalki] | ID: [446001531] | Supervised by: Mohammed Jabali
</footer>

<script>
    const boardElement = document.getElementById("board");
    const statusText = document.getElementById("status");
    const modeSelect = document.getElementById("mode");

    let board = [];
    let currentPlayer = "X";
    let gameActive = false;
    let singlePlayer = false;

    function startGame() {
        board = ["", "", "", "", "", "", "", "", ""];
        boardElement.innerHTML = "";
        currentPlayer = "X";
        gameActive = true;
        singlePlayer = modeSelect.value === "single";
        statusText.textContent = "Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨: X";

        for (let i = 0; i < 9; i++) {
            const cell = document.createElement("div");
            cell.className = "cell";
            cell.dataset.index = i;
            cell.onclick = () => handleClick(i);
            boardElement.appendChild(cell);
        }
    }

    function handleClick(index) {
        if (!gameActive || board[index] !== "") return;

        board[index] = currentPlayer;
        updateBoard();

        if (checkWinner()) return;

        currentPlayer = currentPlayer === "X" ? "O" : "X";
        statusText.textContent = "Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨: " + currentPlayer;

        if (singlePlayer && currentPlayer === "O") {
            setTimeout(computerMove, 500);
        }
    }

    function computerMove() {
        let empty = board.map((v, i) => v === "" ? i : null).filter(v => v !== null);
        let move = empty[Math.floor(Math.random() * empty.length)];
        board[move] = "O";
        updateBoard();

        if (!checkWinner()) {
            currentPlayer = "X";
            statusText.textContent = "Ø¯ÙˆØ± Ø§Ù„Ù„Ø§Ø¹Ø¨: X";
        }
    }

    function updateBoard() {
        document.querySelectorAll(".cell").forEach((cell, i) => {
            cell.textContent = board[i];
        });
    }

    function checkWinner() {
        const wins = [
            [0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]
        ];

        for (let w of wins) {
            const [a,b,c] = w;
            if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                statusText.textContent = "ğŸ‰ Ø§Ù„ÙØ§Ø¦Ø² Ù‡Ùˆ: " + board[a];
                gameActive = false;
                return true;
            }
        }

        if (!board.includes("")) {
            statusText.textContent = "ğŸ¤ ØªØ¹Ø§Ø¯Ù„!";
            gameActive = false;
            return true;
        }
        return false;
    }
</script>

</body>
</html>